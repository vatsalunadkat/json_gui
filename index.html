<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>JSON Editor</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
  <link
    href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200"
    rel="stylesheet" />
  <link rel="stylesheet" href="styles.css" />
</head>

<body>
  <div class="app-container">
    <!-- Navigation Bar -->
    <nav class="navbar">
      <div class="nav-left">
        <div class="app-logo">
          <span class="material-symbols-outlined">edit_document</span>
          <h1 class="app-title">JSON Editor</h1>
        </div>
        <div class="object-nav">
          <button id="btn-prev" class="nav-btn icon-btn btn-pastel-blue" title="Previous Object (←)">
            <span class="material-symbols-outlined">arrow_back</span>
          </button>
          <span id="object-counter" class="object-counter">Object 1 / 1</span>
          <button id="btn-next" class="nav-btn icon-btn btn-pastel-blue" title="Next Object (→)">
            <span class="material-symbols-outlined">arrow_forward</span>
          </button>
        </div>
      </div>
      <div class="nav-right">
        <div class="font-size-controls">
          <button id="btn-font-decrease" class="font-btn icon-btn" title="Decrease Font Size">
            <span class="material-symbols-outlined">text_decrease</span>
          </button>
          <button id="btn-font-increase" class="font-btn icon-btn" title="Increase Font Size">
            <span class="material-symbols-outlined">text_increase</span>
          </button>
        </div>
        <div class="theme-switcher">
          <button class="theme-btn" data-theme="light" title="Light Mode">
            <span class="material-symbols-outlined">light_mode</span>
          </button>
          <button class="theme-btn active" data-theme="dark" title="Dark Mode">
            <span class="material-symbols-outlined">dark_mode</span>
          </button>
        </div>
        <input type="file" id="file-input" accept=".json" style="display: none" />
        <button id="btn-open" class="action-btn btn-open btn-pastel-blue" title="Open JSON File">
          <span class="material-symbols-outlined">folder_open</span>
          Open
        </button>
        <button id="btn-add" class="action-btn btn-add btn-pastel-green" title="Add New Object">
          <span class="material-symbols-outlined">post_add</span>
          Add Object
        </button>
        <button id="btn-copy" class="action-btn btn-copy btn-pastel-purple" title="Copy Last Object">
          <span class="material-symbols-outlined">content_copy</span>
          Copy Last
        </button>
        <button id="btn-delete" class="action-btn btn-delete btn-pastel-red" title="Delete Current Object">
          <span class="material-symbols-outlined">delete</span>
          Delete
        </button>
        <button id="btn-download" class="action-btn btn-download btn-pastel-orange" title="Download JSON">
          <span class="material-symbols-outlined">download</span>
          Download
        </button>
      </div>
    </nav>

    <!-- Main Content -->
    <div class="main-content">
      <!-- Left Pane: Form Editor -->
      <div class="left-pane">
        <div class="pane-header">
          <div class="pane-title-group">
            <span class="material-symbols-outlined">edit</span>
            <h2>Editor</h2>
          </div>
          <div>
            <button id="btn-add-root-prop" class="add-prop-btn btn-pastel-green" title="Add Property to Current Object"
              style="margin-right: 8px">
              <span class="material-symbols-outlined">add</span>
              Add Property
            </button>
            <button id="btn-delete-root-prop" class="delete-prop-btn-header btn-pastel-red"
              title="Delete Property from Current Object">
              <span class="material-symbols-outlined">remove</span>
              Delete Property
            </button>
          </div>
        </div>
        <div id="form-container" class="form-container">
          <div class="placeholder">
            <span class="material-symbols-outlined placeholder-icon">upload_file</span>
            <p>Open a JSON file to start editing</p>
            <p class="placeholder-hint">File must be an array of objects</p>
          </div>
        </div>
      </div>

      <div id="resizer" class="resizer"></div>

      <!-- Right Pane: JSON Preview -->
      <div class="right-pane">
        <div class="pane-header">
          <div class="pane-title-group">
            <span class="material-symbols-outlined">visibility</span>
            <h2>Preview</h2>
          </div>
          <span class="live-indicator">
            <span class="material-symbols-outlined indicator-dot">fiber_manual_record</span>
            LIVE
          </span>
        </div>
        <textarea id="json-preview" class="json-preview" spellcheck="false">{
  "message": "Load a JSON file to see preview"
}</textarea>
      </div>
    </div>
  </div>

  <!-- Add Object Dialog -->
  <div id="add-object-dialog" class="dialog-overlay">
    <div class="dialog">
      <div class="dialog-header">
        <span class="material-symbols-outlined">post_add</span>
        <h3>Add New Object</h3>
      </div>
      <label>Property name:</label>
      <div class="input-wrapper">
        <input type="text" id="add-obj-key" placeholder="e.g., name" />
      </div>
      <label>Property value:</label>
      <div class="input-wrapper">
        <input type="text" id="add-obj-value" placeholder='e.g., "John" or 42 or {"nested": "object"}' />
      </div>
      <div class="dialog-buttons">
        <button id="add-obj-cancel" class="btn-text">Cancel</button>
        <button id="add-obj-confirm" class="btn-filled">Add</button>
      </div>
    </div>
  </div>

  <!-- Add Property Dialog -->
  <div id="add-prop-dialog" class="dialog-overlay">
    <div class="dialog">
      <div class="dialog-header">
        <span class="material-symbols-outlined">add_link</span>
        <h3>Add Property</h3>
      </div>
      <p id="add-prop-path" class="dialog-path"></p>
      <label>Property name:</label>
      <div class="input-wrapper">
        <input type="text" id="add-prop-key" placeholder="e.g., email" />
      </div>
      <label>Property value:</label>
      <div class="input-wrapper">
        <input type="text" id="add-prop-value" placeholder='e.g., "test@example.com" or [1, 2, 3]' />
      </div>
      <div class="dialog-buttons">
        <button id="add-prop-cancel" class="btn-text">Cancel</button>
        <button id="add-prop-confirm" class="btn-filled">Add</button>
      </div>
    </div>
  </div>

  <script src="app.js"></script>
</body>

</html>